@page "/all"
@inject ILogger<Defenders> Logger 
@inject GetFplDataService fplService 
@using BlazTest.Components.Pages.Components
@rendermode InteractiveServer

<PageTitle>All players</PageTitle>

<h1>All players</h1>

<PlayerTable players=typedPlayers></PlayerTable>

@code {
    public IEnumerable<Player>? typedPlayers { get; set; }

    protected override async Task OnInitializedAsync(){

        await fplService.taskCompletionSource.Task;

        typedPlayers = fplService.PlayerList;
        
        await base.OnInitializedAsync();
    } 
}


